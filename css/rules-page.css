/* Rules Page Styles */
.rules-page {
    width: 100%;
    min-height: 100vh;
    position: relative;
    background-color: var(--dark-bg);
    overflow-x: hidden;
    overflow-y: auto;
}

/* Hide scrollbars ONLY for GMod clients */
body.gmod-client .rules-page {
    /* Hide scrollbar for webkit browsers */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* Internet Explorer 10+ */
}

body.gmod-client .rules-page::-webkit-scrollbar {
    width: 0;
    height: 0;
    display: none;
}

/* Hide scrollbars on body and html for rules page while keeping scrollable - GMod only */
body.gmod-client:has(.rules-page) {
    scrollbar-width: none;
    -ms-overflow-style: none;
}

body.gmod-client:has(.rules-page)::-webkit-scrollbar {
    width: 0;
    height: 0;
    display: none;
}

html:has(body.gmod-client .rules-page) {
    scrollbar-width: none;
    -ms-overflow-style: none;
}

html:has(body.gmod-client .rules-page)::-webkit-scrollbar {
    width: 0;
    height: 0;
    display: none;
}

.rules-page::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('../images/textures/cooltexturebetter.png') center/auto repeat;
    opacity: 0.2;
    z-index: 1;
    pointer-events: none;
}

.rules-splatter {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 110vw;
    height: 500px;
    background: url('../images/textures/rules-splatter.png') center top/cover no-repeat;
    pointer-events: none;
    z-index: 1;
    mask: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.5) 40%, rgba(0,0,0,0) 80%);
    -webkit-mask: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.5) 40%, rgba(0,0,0,0) 80%);
}

/* GMod fallback for blood splatter - remove mask for better compatibility */
body.gmod-client .rules-splatter {
    mask: none;
    -webkit-mask: none;
    opacity: 0.8;
    background: linear-gradient(to bottom, 
        rgba(0,0,0,0) 0%, 
        rgba(0,0,0,0.1) 20%, 
        rgba(0,0,0,0.3) 40%, 
        rgba(0,0,0,0.5) 60%, 
        rgba(0,0,0,0.7) 80%, 
        rgba(0,0,0,0.8) 100%
    ), url('../images/textures/rules-splatter.png') center top/cover no-repeat;
}

.rules-title {
    position: relative;
    z-index: 10;
    padding: 40px;
    margin-top: 0;
    text-align: center;
}

.rules-title-text {
    font-size: 6rem;
    font-weight: 800;
    text-transform: uppercase;
    line-height: 1.1;
    margin: 0;
    color: #ffffff;
    text-shadow: 
        0 0 5px rgba(255, 71, 87, 0.8),
        0 0 10px rgba(255, 71, 87, 0.6),
        0 0 15px rgba(255, 71, 87, 0.4),
        0 0 20px rgba(255, 71, 87, 0.2),
        2px 2px 4px rgba(0, 0, 0, 0.3);
    position: relative;
}

.rules-title-text::after {
    content: attr(data-text);
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    filter: blur(6px);
    opacity: 0.25;
    color: rgba(255, 255, 255, 0.7);
}

.rules-subtitle {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
    flex-wrap: wrap;
}

.rules-subtitle-box {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.9);
    position: relative;
    z-index: 10;
    font-weight: 600;
    text-shadow: 
        1px 1px 2px rgba(0, 0, 0, 0.8),
        0 0 4px rgba(0, 0, 0, 0.5);
    background-color: rgba(0, 0, 0, 0.7);
    padding: 8px 16px;
    border-radius: 8px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: var(--transition);
}

/* GMod fallback for subtitle boxes */
body.gmod-client .rules-subtitle-box {
    background-color: rgba(0, 0, 0, 0.9);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

.rules-subtitle-box:hover {
    background-color: rgba(0, 0, 0, 0.8);
    border-color: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
}

.rules-container {
    position: relative;
    z-index: 10;
    margin-top: 0px;
    padding: 20px 40px 40px;
    width: 100%;
    max-width: 1000px;
    margin-left: auto;
    margin-right: auto;
    box-sizing: border-box;
}

.rules-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: -120px;
    width: 200px;
    height: 100%;
    background-image: 
        url('../images/textures/left_bloodyprint.png'),
        url('../images/textures/right_bloodyprint.png'),
        url('../images/textures/left_bloodyprint.png'),
        url('../images/textures/right_bloodyprint.png'),
        url('../images/textures/left_bloodyprint.png'),
        url('../images/textures/right_bloodyprint.png'),
        url('../images/textures/left_bloodyprint.png'),
        url('../images/textures/right_bloodyprint.png');
    background-position: 
        left 0px top 80px,
        left 40px top 220px,
        left 0px top 360px,
        left 40px top 500px,
        left 0px top 640px,
        left 40px top 780px,
        left 0px top 920px,
        left 40px top 1060px;
    background-repeat: no-repeat;
    background-size: 100px;
    opacity: 0.6;
    z-index: 1;
    pointer-events: none;
}

.rules-container::after {
    content: '';
    position: absolute;
    top: 50%;
    right: -120px;
    width: 200px;
    height: 50%;
    background-image: 
        url('../images/textures/left_bloodyprint.png'),
        url('../images/textures/right_bloodyprint.png'),
        url('../images/textures/left_bloodyprint.png'),
        url('../images/textures/right_bloodyprint.png');
    background-position: 
        right 40px top 40px,
        right 0px top 180px,
        right 40px top 320px,
        right 0px top 460px;
    background-repeat: no-repeat;
    background-size: 100px;
    opacity: 0.6;
    z-index: 1;
    pointer-events: none;
}

.rule-item {
    margin-bottom: 20px;
    padding: 20px;
    background: rgba(42, 42, 42, 0.3);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: var(--transition);
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

/* GMod fallback for rule items - use solid background instead of backdrop-filter */
body.gmod-client .rule-item {
    background: rgba(42, 42, 42, 0.9);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

.rule-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('../images/textures/cooltexturebetter.png') center/auto repeat;
    opacity: 0.05;
    z-index: 0;
    pointer-events: none;
}

.rule-item:hover {
    background: rgba(42, 42, 42, 0.5);
    border-color: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
}

/* GMod fallback for rule item hover */
body.gmod-client .rule-item:hover {
    background: rgba(50, 50, 50, 0.95);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

.rule-content {
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.rule-title-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 6px;
}

.rule-title {
    font-size: 1.4rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--text-color);
    text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
    flex: 1;
}

.rule-description {
    font-size: 1rem;
    line-height: 1.7;
    color: #ccc;
    font-weight: 400;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
}

/* Rule copy button styles */
.rule-copy-button {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 6px;
    padding: 6px 8px;
    font-size: 14px;
    cursor: pointer;
    transition: var(--transition);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    color: rgba(255, 255, 255, 0.7);
    flex-shrink: 0;
    margin-left: 12px;
}

/* GMod fallback for copy buttons */
body.gmod-client .rule-copy-button {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

.rule-copy-button img {
    width: 14px;
    height: 14px;
    filter: brightness(0) saturate(100%) invert(100%); /* White color */
    transition: var(--transition);
}

.rule-copy-button:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.4);
    color: rgba(255, 255, 255, 0.9);
    transform: translateY(-1px);
}

.rule-copy-button:active {
    transform: translateY(0);
}

/* Rule highlighting styles */
.rule-item.highlighted {
    background: rgba(255, 0, 0, 0.2) !important;
    border-color: #ff0000 !important;
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.3);
    animation: highlightPulse 2s ease-in-out;
}

@keyframes highlightPulse {
    0% {
        box-shadow: 0 0 20px rgba(255, 0, 0, 0.3);
    }
    50% {
        box-shadow: 0 0 30px rgba(255, 0, 0, 0.5);
    }
    100% {
        box-shadow: 0 0 20px rgba(255, 0, 0, 0.3);
    }
}

.rules-footer {
    width: 100%;
    margin: 0;
    padding: 40px 20px 60px;
    text-align: center;
    border-top: none;
    position: relative;
    background-color: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

/* GMod fallback for footer - use solid background instead of backdrop-filter */
body.gmod-client .rules-footer {
    background-color: rgba(20, 20, 20, 0.95);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

.rules-footer::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 0.5px;
    background: rgba(255, 255, 255, 0.15);
}

.rules-footer-content {
    max-width: 1000px;
    margin: 0 auto;
}

.rules-footer-text {
    font-size: 0.95rem;
    color: #999;
    margin-bottom: 30px;
    line-height: 1.6;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
}

.rules-footer-text .inline-link {
    color: #ccc;
    text-decoration: underline;
    transition: var(--transition);
}

.rules-footer-text .inline-link::after {
    content: "";
    display: inline-block;
    width: 12px;
    height: 12px;
    margin-left: 4px;
    background-image: url('../images/icons/external-link.svg');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    vertical-align: middle;
    opacity: 0.7;
    transition: var(--transition);
    filter: brightness(0) saturate(100%) invert(80%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(80%) contrast(100%);
}

.rules-footer-text .inline-link:hover {
    color: #fff;
    text-decoration: none;
}

.rules-footer-text .inline-link:hover::after {
    opacity: 1;
    filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%);
}

.rules-footer-links {
    display: flex;
    justify-content: center;
    gap: 30px;
    flex-wrap: wrap;
}

.footer-link {
    background-color: rgba(30, 30, 30, 0.95);
    color: var(--text-color);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 6px;
    padding: 0.7rem 1.8rem;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    transition: all 0.2s ease-in-out;
    text-decoration: none;
    display: inline-block;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    text-align: center;
    line-height: 1.4;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    white-space: nowrap;
    min-width: fit-content;
}

/* GMod fallback for footer links */
body.gmod-client .footer-link {
    background-color: rgba(30, 30, 30, 1);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

.footer-link:hover {
    background-color: rgba(40, 40, 40, 0.98);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.3);
    color: var(--text-color);
}

/* GMod-specific link styles */
.gmod-link {
    background: transparent !important;
    border: 2px solid #ff0000 !important;
    color: #ff0000 !important;
    text-decoration: underline;
    font-weight: 600;
    transition: var(--transition);
}

.gmod-link:hover {
    background: rgba(255, 0, 0, 0.1) !important;
    color: #fff !important;
    text-decoration: none;
    border-color: #fff !important;
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(255, 0, 0, 0.4);
}


/* Responsive Design */
@media (max-width: 1400px) {
    .rules-title-text {
        font-size: 5rem;
    }
}

@media (max-width: 1200px) {
    .rules-title-text {
        font-size: 4.5rem;
    }
}

@media (max-width: 900px) {
    .rules-title-text {
        font-size: 4rem;
    }
}

@media (max-width: 768px) {
    .rules-container::before {
        left: -80px;
        width: 150px;
        background-position: 
            left 0px top 70px,
            left 30px top 200px,
            left 0px top 330px,
            left 30px top 460px,
            left 0px top 590px,
            left 30px top 720px,
            left 0px top 850px,
            left 30px top 980px;
        background-size: 75px;
        opacity: 0.5;
    }

    .rules-container::after {
        right: -80px;
        width: 150px;
        background-position: 
            right 30px top 30px,
            right 0px top 150px,
            right 30px top 270px,
            right 0px top 390px;
        background-size: 75px;
        opacity: 0.5;
    }

    .rules-title {
        padding: 20px;
    }

    .rules-title-text {
        font-size: 3rem;
        text-align: center;
    }
    
    .rules-subtitle {
        text-align: center;
        margin: 15px 20px;
        font-size: 1rem;
        display: block;
        width: calc(100% - 40px);
    }
    
    .rules-container {
        padding: 20px;
    }
    
    .rule-item {
        padding: 18px 16px;
    }
    
    .rule-copy-button {
        padding: 5px 7px;
        font-size: 12px;
        margin-left: 8px;
    }
    
    .rule-title {
        font-size: 1.2rem;
    }
    
    .rule-description {
        font-size: 0.95rem;
    }
    
    .rules-footer-links {
        flex-direction: column;
        align-items: center;
        gap: 15px;
    }
    
    .footer-link {
        font-size: 0.9rem;
        padding: 0.6rem 1.4rem;
    }
}

@media (max-width: 480px) {
    .rules-container::before {
        left: -60px;
        width: 120px;
        background-position: 
            left 0px top 60px,
            left 25px top 170px,
            left 0px top 280px,
            left 25px top 390px,
            left 0px top 500px,
            left 25px top 610px,
            left 0px top 720px,
            left 25px top 830px;
        background-size: 60px;
        opacity: 0.4;
    }

    .rules-container::after {
        right: -60px;
        width: 120px;
        background-position: 
            right 25px top 25px,
            right 0px top 125px,
            right 25px top 225px,
            right 0px top 325px;
        background-size: 60px;
        opacity: 0.4;
    }

    .rules-title {
        padding: 15px;
    }

    .rules-title-text {
        font-size: 2.5rem;
        text-align: center;
    }
    
    .rules-subtitle {
        text-align: center;
        margin: 10px 15px;
        font-size: 0.9rem;
        padding: 6px 12px;
        display: block;
        width: calc(100% - 30px);
    }
    
    .rules-container {
        padding: 15px;
    }
    
    .rule-item {
        margin-bottom: 15px;
        padding: 15px 12px;
    }
    
    .rule-copy-button {
        padding: 4px 6px;
        font-size: 11px;
        margin-left: 6px;
    }
    
    .rule-title {
        font-size: 1.1rem;
        margin-bottom: 6px;
    }
    
    .rule-description {
        font-size: 0.9rem;
    }
    
    .rules-footer {
        padding: 30px 15px 50px;
    }
    
    .rules-footer-text {
        font-size: 0.9rem;
    }
    
    .footer-link {
        padding: 0.5rem 1.2rem;
        font-size: 0.8rem;
    }
}
